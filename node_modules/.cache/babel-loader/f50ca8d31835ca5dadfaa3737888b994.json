{"ast":null,"code":"export default {\n  data: () => ({\n    date: new Date(),\n    interval: null,\n    dropdown: null\n  }),\n  methods: {\n    logout() {\n      console.log('Logout');\n      this.$router.push('/login?message=logout');\n    },\n\n    dateFilter(value, format = 'date') {\n      value = this.date;\n      const options = {};\n\n      if (format.includes('date')) {\n        options.day = '2-digit';\n        options.month = 'long';\n        options.year = 'numeric';\n        options.hour = '2-digit';\n        options.minute = '2-digit';\n        options.second = '2-digit';\n      }\n\n      return new Intl.DateTimeFormat('ru-RU', options).format(new Date(value));\n    }\n\n  },\n\n  mounted() {\n    this.interval = setInterval(() => {\n      this.date = new Date();\n    }, 1000);\n    this.dropdown = window.M.Dropdown.init(this.$refs.dropdown, {\n      constrainWidth: false\n    });\n  },\n\n  beforeUnmount() {\n    clearInterval(this.interval);\n\n    if (this.dropdown && this.dropdown.destroy) {\n      this.dropdown.destroy();\n    }\n  }\n\n};","map":{"version":3,"mappings":"AA4CA,eAAe;AACbA,MAAI,EAAE,OAAO;AACXC,QAAI,EAAE,IAAIC,IAAJ,EADK;AAEXC,YAAQ,EAAE,IAFC;AAGXC,YAAQ,EAAE;AAHC,GAAP,CADO;AAMbC,SAAO,EAAE;AACPC,UAAK,GAAK;AACRC,aAAO,CAACC,GAAR,CAAY,QAAZ;AACA,WAAKC,OAAL,CAAaC,IAAb,CAAkB,uBAAlB;AACD,KAJM;;AAKPC,cAAS,CAAGC,KAAH,EAAUC,MAAK,GAAI,MAAnB,EAA2B;AAClCD,WAAI,GAAI,KAAKX,IAAb;AACA,YAAMa,OAAM,GAAI,EAAhB;;AAEA,UAAID,MAAM,CAACE,QAAP,CAAgB,MAAhB,CAAJ,EAA6B;AAC1BD,eAAO,CAACE,GAAR,GAAc,SAAd;AACDF,eAAO,CAACG,KAAR,GAAgB,MAAhB;AACAH,eAAO,CAACI,IAAR,GAAe,SAAf;AACAJ,eAAO,CAACK,IAAR,GAAe,SAAf;AACAL,eAAO,CAACM,MAAR,GAAiB,SAAjB;AACAN,eAAO,CAACO,MAAR,GAAiB,SAAjB;AACF;;AAEA,aAAO,IAAIC,IAAI,CAACC,cAAT,CAAwB,OAAxB,EAAiCT,OAAjC,EAA0CD,MAA1C,CAAiD,IAAIX,IAAJ,CAASU,KAAT,CAAjD,CAAP;AACF;;AAnBO,GANI;;AA2BbY,SAAM,GAAK;AACT,SAAKrB,QAAL,GAAgBsB,WAAW,CAAC,MAAM;AAChC,WAAKxB,IAAL,GAAY,IAAIC,IAAJ,EAAZ;AACD,KAF0B,EAExB,IAFwB,CAA3B;AAGA,SAAKE,QAAL,GAAgBsB,MAAM,CAACC,CAAP,CAASC,QAAT,CAAkBC,IAAlB,CAAuB,KAAKC,KAAL,CAAW1B,QAAlC,EAA4C;AAC1D2B,oBAAc,EAAE;AAD0C,KAA5C,CAAhB;AAGD,GAlCY;;AAmCbC,eAAY,GAAK;AACfC,iBAAa,CAAC,KAAK9B,QAAN,CAAb;;AACA,QAAI,KAAKC,QAAL,IAAiB,KAAKA,QAAL,CAAc8B,OAAnC,EAA4C;AAC1C,WAAK9B,QAAL,CAAc8B,OAAd;AACF;AACF;;AAxCa,CAAf","names":["data","date","Date","interval","dropdown","methods","logout","console","log","$router","push","dateFilter","value","format","options","includes","day","month","year","hour","minute","second","Intl","DateTimeFormat","mounted","setInterval","window","M","Dropdown","init","$refs","constrainWidth","beforeUnmount","clearInterval","destroy"],"sourceRoot":"","sources":["C:\\vue-crm\\src\\components\\app\\navbar-crm.vue"],"sourcesContent":["/*eslint-disable*/\r\n<template>\r\n  <nav class=\"navbar orange lighten-1\">\r\n    <div class=\"nav-wrapper\">\r\n      <div class=\"navbar-left\">\r\n        <a href=\"#\" @click.prevent=\"$emit('toggle')\">\r\n            <i class=\"material-icons black-text\">dehaze</i>\r\n        </a>\r\n\r\n        <span class=\"black-text\">{{ dateFilter('datetime') }}</span>\r\n      </div>\r\n\r\n      <ul class=\"right hide-on-small-and-down\">\r\n        <li>\r\n          <a\r\n              class=\"dropdown-trigger black-text\"\r\n              href=\"#\"\r\n              data-target=\"dropdown\"\r\n              ref=\"dropdown\"\r\n          >\r\n            USER NAME\r\n            <i class=\"material-icons right\">arrow_drop_down</i>\r\n          </a>\r\n\r\n          <ul id='dropdown' class='dropdown-content'>\r\n            <li>\r\n              <router-link to=\"/profile\" class=\"black-text\">\r\n                <i class=\"material-icons\">account_circle</i>Профиль\r\n              </router-link>\r\n            </li>\r\n            <li class=\"divider\" tabindex=\"-1\"></li>\r\n            <li>\r\n              <a href=\"#\" class=\"black-text\" @click.prevent=\"logout\">\r\n                <i class=\"material-icons\">assignment_return</i>Выйти\r\n              </a>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </ul>\r\n    </div>\r\n  </nav>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n  data: () => ({\r\n    date: new Date(),\r\n    interval: null,\r\n    dropdown: null\r\n  }),\r\n  methods: {\r\n    logout () {\r\n      console.log('Logout')\r\n      this.$router.push('/login?message=logout')\r\n    },\r\n    dateFilter (value, format = 'date') {\r\n      value = this.date\r\n      const options = {}\r\n\r\n      if (format.includes('date')) {\r\n         options.day = '2-digit'\r\n        options.month = 'long'\r\n        options.year = 'numeric'\r\n        options.hour = '2-digit'\r\n        options.minute = '2-digit'\r\n        options.second = '2-digit'\r\n      }\r\n\r\n      return new Intl.DateTimeFormat('ru-RU', options).format(new Date(value))\r\n    }\r\n  },\r\n  mounted () {\r\n    this.interval = setInterval(() => {\r\n      this.date = new Date()\r\n    }, 1000)\r\n    this.dropdown = window.M.Dropdown.init(this.$refs.dropdown, {\r\n      constrainWidth: false\r\n    })\r\n  },\r\n  beforeUnmount () {\r\n    clearInterval(this.interval)\r\n    if (this.dropdown && this.dropdown.destroy) {\r\n      this.dropdown.destroy()\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]},"metadata":{},"sourceType":"module"}